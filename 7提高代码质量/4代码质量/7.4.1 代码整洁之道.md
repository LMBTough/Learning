#代码整洁之道
##1、了解到代码保持整洁的必要性
##2、有意义的命名
+ 首先命名必须有意义
   比如一些int类型，最好能进行封装，更加的有解释性，不用些比如说theList之类的命名。
+ 不直接在逻辑里用一些比如说1之类的量，没有解释性。
抽象层级抽象层级+ 有一个Product类再有一个ProductInfo就没有意义，要有区分性。
+ 用读得出来的代码，能够进行阅读。
+ 用能够进行的搜索的名称，用个e之类的在文章中搜索一大堆。
+ 避免使用幽默的命名。
+ 每个概念对应一个词，在一个项目中用get就不要再用fetch之类混淆试听的词
+ 避免双关，比如说add和append之类，必要时候还是要进行拆分。
+ 使用解决方案领域的名称。
+ 不要添加没用的语境。
##3、函数
+ 函数第一规则就是要短小（正常情况20行封顶）if和else和while应该只有一份
+ 一个函数只做一件事情
+ 每个函数一个抽象层级（函数中的语句都要在一个抽象层级）
+ switch
  switch语句很长，确保在较低的抽象层级，至少在上面层级看不到。
+ 使用描述性的名称。
  如果每个例程都让你感到深合己意，那就是整洁代码。
+ 尽可能少的参数。
+ 尽可能少的往函数里面传布尔参数，就是告诉函数做超过一件的事情。如果参数实在太多的话，就应该封装成一个类。
+ 把参数的名字编码成函数名字有利于记住参数的位置。
+ 无副作用，确保函数不做一些不应该做的，隐含要做的事情。
+ 尽可能不要把输入参数当成输出参数。（像c语言这样的没办法再用）。
+ 分隔指令与询问。
   ```java
   if(set("username", "unclebob")) //用作判断是否设置成功
   //最好改成
   if(attributeExists("username")){
       setAttribute("username", "unclebob");
   }
   ```
+ 用异常处理能很大程度的简化代码，而不是采用返回值if一个个判断。
+ 分离try/Catch代码块，就是专门用个函数来执行异常处理，避免在正常代码中插入错误处理的代码。
+ 尽可能的消除重复。
+ 很多时候先写函数再进行重构。

##4、注释
+ 注释是表达代码意图失败的补救，注释不能补救糟糕的代码。
+ 真正有用的注释
    - 法律信息
    - 提供信息的注释（比如说函数的返回值）
    - 对意图的解释
    - 对作用的翻译（比如一些标准库，没有办法修改）
    - 警示
    - ToDo注释
+ 能用函数或变量时就别用注释。
+ 确保注释离得足够近。
+ 注释信息不能过多，表达信息要明确。

##5、格式
+ 像报纸学习，头部有大纲，逐步往下更加详细。
  - 每个函数之间多一个空行。
  - 紧密相连表示他们关系密切。
+ 垂直距离
  - 变量声明尽量靠近使用它的地方（尽量放在顶部或底部，反正就是都知道要放的位置。）
  - 加减两边加空格，乘法不加因为优先级更高。
  - 只有一行的while ;放到另外一行

##6、对象和数据结构
+ 不暴露私有变量是为了抽象。
+ 在一个复式系统中的时候，如果经常要添加新的类型，那么面向对象的会比较合适。如果要经常添加函数，那么过程式会更加合适。
+ 得墨忒耳律
  - 模块不应该了解它所操作对象的内部情形。 

##7、错误处理
+ 尽量使用异常而不是错误返回。
+ 给出异常发生的环境。
+ 不要返回Null值。
+ 不要传递Null值。

## 边界（如何整合第三方代码）
+ 创建学习性测试，看是否因为变迁而无法使用。

## 单元测试
+ TDD 三定律
   - 在编程不能通过通过的单元测试前，不可编写生产代码。
   - 只可编写刚好无法通过的单元测试，不能编译也算不过。
   - 只可编写刚好足以通过当前失败测试的生产代码。
+ 测试代码与生产代码一样重要， 代码必须要有可读性。
+ 分为三个部分（构造数据， 操作数据， 检验数据）
+ 给每个测试一个断言。
+ 每个测试一个概念。
+ 整洁测试的五个概念
   - 快速（能够快速运行测试）
   - 独立 测试相互独立，一个测试不能称为下一个测试的条件。
   - 可重复
   - 自足验证
   - 及时

##类
+ 类应该短小而不应该有太多权责。
+ 保持类更大的内聚。

##系统
+ 分解main,假设每一部分都完善,外面的应用调用main,却不了解main的内部构造.
+ 延迟初始化,当类没有被使用到的时候就不进行初始化.
+ 分离开构建的过程,比如说构建xml文件, 然后用xml区生成逻辑.
+ 最佳的系统架构由模块化的关注面领域组成, 每个关注面均用纯一种语言对象组成,不同领域之间用最不具侵害性的方面或类方面工具整合起来,这种架构能测试驱动,像代码一样.

##迭进
+ 简单设计规则
   - 运行所有测试。
   - 重构（删除代码时候运行所有的测试，减少对删除代码的恐惧）。
   - 不可重复。
   - 尽可能少的类和方法。
